---
title: "p8105_hw2_ac4964"
author: "AnMei Chen"
date: "10/1/2021"
output: github_document
---

```{r}
library(tidyverse)
library(readxl)
library(dplyr)
```

# Problem 1

Read and clean the Mr.Trash Wheel sheet

```{r}
Mr_trash_df = 
  read_excel("data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",sheet = "Mr. Trash Wheel", range = "A2:N406") %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(
    sports_balls = round(sports_balls,digits = 0)
  )

```


Read and clean precipitation data for 2018 and 2019

```{r}
Precipitation_2018_df = 
  read_excel("data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",sheet = "2018 Precipitation", range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(year = "2018") %>% 
  relocate(year)

Precipitation_2019_df = 
  read_excel("data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",sheet = "2019 Precipitation", range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(year = "2019") %>% 
  relocate(year)
```


Combine 2018 and 2019 precipitation datasets

```{r}
Precipitations_df = 
  bind_rows(Precipitation_2018_df,Precipitation_2019_df) %>% 
  mutate( month = month.name[month])
```


Write a paragraph about the Mr.Trash Wheel dataset:

The dataset of Mr.Trash Wheel contains data of the trashes collected by Mr. Trash Wheel from `r min(Mr_trash_df$year)` to `r max(Mr_trash_df$year)`. It contains a total of `r nrow(Mr_trash_df)` observations and `r ncol(Mr_trash_df)` variables (`r colnames(Mr_trash_df)`). It has collected a total of `r sum(Mr_trash_df$weight_tons)` tons and `r sum(Mr_trash_df$volume_cubic_yards)` cubic yards of trashes. The median number of sports balls in a dumpster in 2017 is `r median(pull(filter(Mr_trash_df, year == 2017),sports_balls))`.

```{r}
# To find the median number of sports balls in a dumpster in 2017

get_2017_df = filter(Mr_trash_df, year == 2017)
pull_sports_balls = pull(get_2017_df,sports_balls)
pull_sports_balls
median(pull_sports_balls)
```

